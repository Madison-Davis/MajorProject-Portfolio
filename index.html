<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Compaulo Learn v2</title>
  <meta name="description" content="HELLO! I'M MADISON DAVIS - Creator, developer, and systems thinker.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fraunces:opsz,wght@9..144,600;9..144,700&family=Manrope:wght@400;500;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="site-header">
    <div class="container nav-wrap">
      <a class="brand" href="#top">COMPAULO</a>
      
      
    </div>
  </header>

  <main id="top">
    <section id="home" class="hero section reveal">
      <div class="container hero-grid">
        <div class="reveal hero-copy">
          <p class="kicker">HELLO!</p>
          <h1>I'M MADISON DAVIS</h1>
          <p class="lead">
            Curiosity has always led me to pursue projects where strategy, innovation,
            and technical skill intersect.
          </p>
          <div class="hero-actions">
            <a class="btn primary" href="#projects">View My Work</a>
            <a class="btn ghost" href="#links">Important Links</a>
          </div>
        </div>
      </div>
    </section>

    <section id="overview" class="section reveal">
      <div class="container">
        <h2 class="section-title">FROM IDEATION, TO INNOVATION</h2>
        <p class="section-intro">
          I lead projects from concept to launch, blending design systems, software
          engineering, and business goals into clear deliverables.
        </p>
        <div class="card-grid three">
          <article class="card overview-card reveal">
            <p class="overview-meta"><span class="overview-line" aria-hidden="true"></span>01</p>
            <h3>BUSINESS ECONOMICS</h3>
            <p>market and customer segmentation, competitive analysis, product design, and marketing strategy.</p>
          </article>
          <article class="card overview-card reveal">
            <p class="overview-meta"><span class="overview-line" aria-hidden="true"></span>02</p>
            <h3>ARTIFICIAL INTELLIGENCE</h3>
            <p>machine learning, reinforcement learning, deep learning, natural language, and fuzzy logic</p>
          </article>
          <article class="card overview-card reveal">
            <p class="overview-meta"><span class="overview-line" aria-hidden="true"></span>03</p>
            <h3>COMPUTER ENGINEERING</h3>
            <p>computer hardware, architecture, distributed systems, fabrication</p>
          </article>
        </div>
      </div>
    </section>

    <section id="projects" class="section reveal">
      <div class="container">
        <h2 class="section-title">PROJECTS</h2>
        <p class="section-intro">Full list: internships, projects, and coursework.</p>
        <div class="project-slideshow reveal" aria-label="Project media slideshow">
          <div class="slideshow-viewport">
            <button class="slideshow-arrow slideshow-arrow-prev" type="button" aria-label="Previous slide">‹</button>
            <div class="slideshow-track">
              <figure class="slideshow-slide">
                <video autoplay muted loop playsinline preload="metadata" aria-label="Project placeholder video 1">
                  <source src="assets/videos/video1.mp4" type="video/mp4">
                </video>
              </figure>
              <figure class="slideshow-slide">
                <video autoplay muted loop playsinline preload="metadata" aria-label="Project placeholder video 1">
                  <source src="assets/videos/video2.mp4" type="video/mp4">
                </video>
              </figure>
              <figure class="slideshow-slide">
                <video autoplay muted loop playsinline preload="metadata" aria-label="Project placeholder video 1">
                  <source src="assets/videos/video3.mp4" type="video/mp4">
                </video>
              </figure>
            </div>
            <figcaption class="slideshow-caption">
              <h3>CHEETAH: ACINONYX GENETICS</h3>
              <p>Optimized Breeding Program For Genetic Bottlenecks.</p>
            </figcaption>
            <button class="slideshow-arrow slideshow-arrow-next" type="button" aria-label="Next slide">›</button>
          </div>
        </div>

        <div id="project-group-tabs" class="project-group-tabs reveal"></div>
        <div class="project-accordion reveal is-collapsed">
          <div id="project-accordion-list"></div>
        </div>
      </div>
    </section>

    <section id="publications" class="section alt reveal">
      <div class="container">
        <h2 class="section-title">RESEARCH</h2>
        <p class="section-intro">
          selection of papers, notes, and writeups.
        </p>
        <div id="project-cards" class="card-grid three"></div>

        <div class="project-accordion reveal">
          <div id="publication-accordion-list"></div>
        </div>
      </div>
    </section>

    <section id="links" class="section reveal">
      <div class="container">
        <h2 class="section-title">Important Links</h2>
        <div class="link-list">
          <a href="https://github.com/Madison-Davis" class="link-item reveal">GitHub</a>
          <a href="https://www.linkedin.com/in/madison-davis-80a92b1ab/" class="link-item reveal">LinkedIn</a>
          <a href="https://docs.google.com/document/d/1Nbch8YZNeFyVikeE0R6CIN00iPWDR3LU2jYO-vCE6HA/edit?tab=t.0" class="link-item reveal">Resume</a>
        </div>
      </div>
    </section>
  </main>

  <div id="pdf-modal" class="pdf-modal" aria-hidden="true">
    <div class="pdf-modal-backdrop" data-close="true"></div>
    <section class="pdf-modal-content" role="dialog" aria-modal="true" aria-labelledby="pdf-modal-title">
      <header class="pdf-modal-header">
        <h3 id="pdf-modal-title">Publication PDF</h3>
        <button id="pdf-modal-close" class="pdf-close" type="button" aria-label="Close PDF viewer">Close</button>
      </header>
      <iframe id="pdf-frame" class="pdf-frame" title="Publication PDF"></iframe>
    </section>
  </div>

  </footer>
  <script src="data.js"></script>
  <script>
    const data = window.PORTFOLIO_DATA || {
      featuredProjects: [],
      featuredVideos: [],
      projectGroups: [],
      publications: [],
    };

    const projectCardsEl = document.querySelector("#project-cards");
    const projectGroupTabsEl = document.querySelector("#project-group-tabs");
    const projectAccordionEl = document.querySelector("#project-accordion-list");
    const projectAccordionWrapEl = projectAccordionEl ? projectAccordionEl.closest(".project-accordion") : null;
    const publicationAccordionEl = document.querySelector("#publication-accordion-list");
    const slideshowTrack = document.querySelector(".slideshow-track");
    const slideshowPrev = document.querySelector(".slideshow-arrow-prev");
    const slideshowNext = document.querySelector(".slideshow-arrow-next");
    const slideshowCaptionTitle = document.querySelector(".slideshow-caption h3");
    const slideshowCaptionDescription = document.querySelector(".slideshow-caption p");
    const pdfModal = document.querySelector("#pdf-modal");
    const pdfFrame = document.querySelector("#pdf-frame");
    const pdfClose = document.querySelector("#pdf-modal-close");
    const pdfModalTitle = document.querySelector("#pdf-modal-title");

    const renderProjects = () => {
      if (projectCardsEl) {
        projectCardsEl.innerHTML = data.featuredProjects
          .map(
            (project) => `
              <article class="project-card highlighted-card reveal">
                <div class="highlight-inner">
                  <div class="highlight-image-card">
                    <img src="${project.image || "assets/images/highlight1.jpeg"}" alt="${project.title}" loading="lazy">
                  </div>
                  <div class="highlight-text-card">
                    <div class="highlight-title-row">
                      <h3>${project.title}</h3>
                      <a class="highlight-link" href="${project.link || "#"}" aria-label="View ${project.title}">↗</a>
                    </div>
                    <p>${project.description}</p>
                  </div>
                </div>
              </article>
            `
          )
          .join("");
      }

      const groups = data.projectGroups || [];
      if (!projectAccordionEl || groups.length === 0) return;

      const defaultProjectsIndex = groups.findIndex(
        (group) => String(group.title || "").trim().toUpperCase() === "PROJECTS"
      );
      let activeGroupIndex = defaultProjectsIndex >= 0 ? defaultProjectsIndex : 0;

      const renderGroupButtons = () => {
        if (!projectGroupTabsEl) return;
        projectGroupTabsEl.innerHTML = groups
          .map(
            (group, idx) => `
              <button
                class="project-group-btn ${idx === activeGroupIndex ? "is-active" : ""}"
                type="button"
                data-group-index="${idx}">
                ${group.title}
              </button>
            `
          )
          .join("");

        projectGroupTabsEl.querySelectorAll(".project-group-btn").forEach((button) => {
          button.addEventListener("click", () => {
            const nextIndex = Number(button.dataset.groupIndex);
            if (Number.isNaN(nextIndex)) return;
            activeGroupIndex = nextIndex === activeGroupIndex ? null : nextIndex;
            renderGroupButtons();
            renderSingleGroup();
            bindAccordionInteractions();
          });
        });
      };

      const renderSingleGroup = () => {
        if (activeGroupIndex === null) {
          if (projectAccordionWrapEl) projectAccordionWrapEl.classList.add("is-collapsed");
          return;
        }

        const group = groups[activeGroupIndex];
        if (projectAccordionWrapEl) projectAccordionWrapEl.classList.remove("is-collapsed");
        projectAccordionEl.innerHTML = `
          <article class="accordion-item is-open">
            <button class="accordion-trigger" type="button" aria-expanded="true">
              ${group.title}
            </button>
            <div class="accordion-panel">
              <div class="accordion-panel-inner">
                <table class="accordion-table">
                  <thead>
                    <tr>
                      <th>Project Title</th>
                      <th>Year</th>
                      <th>Description</th>
                      <th>Link</th>
                    </tr>
                  </thead>
                  <tbody>
                    ${group.rows
                      .map(
                        (row) => `
                          <tr>
                            <td>${row.title}</td>
                            <td>${row.year}</td>
                            <td>${row.description}</td>
                            <td><a href="${row.link || "#"}">Link</a></td>
                          </tr>
                        `
                      )
                      .join("")}
                  </tbody>
                </table>
              </div>
            </div>
          </article>
        `;
      };

      renderGroupButtons();
      renderSingleGroup();
    };

    const renderPublications = () => {
      if (!publicationAccordionEl) return;
      publicationAccordionEl.innerHTML = `
        <article class="accordion-item">
          <button class="accordion-trigger" type="button" aria-expanded="false">
            All RESEARCH
          </button>
          <div class="accordion-panel">
            <div class="accordion-panel-inner">
              <table class="accordion-table">
                <thead>
                  <tr>
                    <th>Genre</th>
                    <th>Title</th>
                    <th>Link</th>
                  </tr>
                </thead>
                <tbody>
                  ${data.publications
                    .map(
                      (publication) => `
                        <tr>
                          <td>${publication.topic || "Publication"}</td>
                          <td>${publication.title}</td>
                          <td>
                            ${publication.pdf || publication.link
                              ? `<a class="publication-open" href="#" data-pdf="${publication.pdf || publication.link || "#"}" data-title="${publication.title}">Link</a>`
                              : "-"}
                          </td>
                        </tr>
                      `
                    )
                    .join("")}
                </tbody>
              </table>
            </div>
          </div>
        </article>
      `;
    };

    renderProjects();
    renderPublications();

    const openPdfModal = (pdfPath, title) => {
      if (!pdfModal || !pdfFrame) return;
      pdfFrame.src = pdfPath;
      if (pdfModalTitle) pdfModalTitle.textContent = title || "Publication PDF";
      pdfModal.classList.add("is-open");
      pdfModal.setAttribute("aria-hidden", "false");
      document.body.classList.add("modal-open");
    };

    const closePdfModal = () => {
      if (!pdfModal || !pdfFrame) return;
      pdfModal.classList.remove("is-open");
      pdfModal.setAttribute("aria-hidden", "true");
      document.body.classList.remove("modal-open");
      pdfFrame.src = "";
    };

    document.addEventListener("click", (event) => {
      if (!(event.target instanceof Element)) return;
      const link = event.target.closest(".publication-open");
      if (!link) return;
      event.preventDefault();
      const pdfPath = link.dataset.pdf;
      if (!pdfPath || pdfPath === "#") return;
      openPdfModal(pdfPath, link.dataset.title);
    });

    if (pdfClose) {
      pdfClose.addEventListener("click", closePdfModal);
    }

    if (pdfModal) {
      pdfModal.addEventListener("click", (event) => {
        if (event.target instanceof HTMLElement && event.target.dataset.close === "true") {
          closePdfModal();
        }
      });
    }

    document.addEventListener("keydown", (event) => {
      if (event.key === "Escape" && pdfModal && pdfModal.classList.contains("is-open")) {
        closePdfModal();
      }
    });

    const revealElements = document.querySelectorAll(".reveal");

    const revealObserver = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add("is-visible");
          } else {
            entry.target.classList.remove("is-visible");
          }
        });
      },
      { threshold: 0.12, rootMargin: "0px 0px -40px 0px" }
    );

    revealElements.forEach((el) => revealObserver.observe(el));

    if (slideshowTrack && slideshowPrev && slideshowNext) {
      const originalSlides = Array.from(slideshowTrack.querySelectorAll(".slideshow-slide"));
      if (originalSlides.length > 1) {
        const featuredVideos = Array.isArray(data.featuredVideos) ? data.featuredVideos : [];

        const updateCaption = (trackIndex) => {
          if (!slideshowCaptionTitle || !slideshowCaptionDescription) return;
          const realIndex = ((trackIndex - 1) % originalSlides.length + originalSlides.length) % originalSlides.length;
          const item = featuredVideos[realIndex];
          slideshowCaptionTitle.textContent = item?.title || "Highlighted Project";
          slideshowCaptionDescription.textContent = item?.description || "";
        };

        const firstClone = originalSlides[0].cloneNode(true);
        const lastClone = originalSlides[originalSlides.length - 1].cloneNode(true);
        firstClone.dataset.clone = "first";
        lastClone.dataset.clone = "last";
        slideshowTrack.appendChild(firstClone);
        slideshowTrack.prepend(lastClone);

        let currentIndex = 1;
        let isAnimating = false;

        const jumpTo = (index, animated = true) => {
          slideshowTrack.style.transition = animated ? "transform 420ms ease" : "none";
          slideshowTrack.style.transform = `translateX(-${index * 100}%)`;
          updateCaption(index);
        };

        jumpTo(currentIndex, false);
        requestAnimationFrame(() => {
          slideshowTrack.style.transition = "transform 420ms ease";
        });

        const move = (direction) => {
          if (isAnimating) return;
          isAnimating = true;
          currentIndex += direction;
          jumpTo(currentIndex, true);
        };

        slideshowPrev.addEventListener("click", () => move(-1));
        slideshowNext.addEventListener("click", () => move(1));

        slideshowTrack.addEventListener("transitionend", () => {
          const totalWithClones = originalSlides.length + 2;
          if (currentIndex === 0) {
            currentIndex = originalSlides.length;
            jumpTo(currentIndex, false);
          } else if (currentIndex === totalWithClones - 1) {
            currentIndex = 1;
            jumpTo(currentIndex, false);
          }
          isAnimating = false;
        });
      }
    }

    const bindAccordionInteractions = () => {
      const accordionItems = document.querySelectorAll(".accordion-item");
      accordionItems.forEach((item) => {
        if (item.dataset.bound === "true") return;
        const trigger = item.querySelector(".accordion-trigger");
        const panel = item.querySelector(".accordion-panel");
        if (!trigger || !panel) return;

        if (item.classList.contains("is-open")) {
          panel.style.maxHeight = `${panel.scrollHeight}px`;
        }

        trigger.addEventListener("click", () => {
          const willOpen = !item.classList.contains("is-open");
          item.classList.toggle("is-open", willOpen);
          trigger.setAttribute("aria-expanded", String(willOpen));
          panel.style.maxHeight = willOpen ? `${panel.scrollHeight}px` : "0px";
        });

        item.dataset.bound = "true";
      });
    };

    bindAccordionInteractions();

    window.addEventListener("resize", () => {
      document.querySelectorAll(".accordion-item.is-open .accordion-panel").forEach((panel) => {
        panel.style.maxHeight = `${panel.scrollHeight}px`;
      });
    });
  </script>
</body>
</html>
